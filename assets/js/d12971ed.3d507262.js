"use strict";(self.webpackChunkdatalogic_github_io=self.webpackChunkdatalogic_github_io||[]).push([[4958],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return v}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),p=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(a),m=r,v=u["".concat(c,".").concat(m)]||u[m]||s[m]||o;return a?n.createElement(v,i(i({ref:t},d),{},{components:a})):n.createElement(v,i({ref:t},d))}));function v(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},88116:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return c},default:function(){return v},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u}});var n=a(87462),r=a(63366),o=(a(67294),a(3905)),i=["components"],l={id:"overview",title:"React Native SDK",sidebar_label:"Overview"},c=void 0,p={unversionedId:"reactnative/overview",id:"reactnative/overview",title:"React Native SDK",description:"The Datalogic React Native SDK is distributed using npm.  More information can be found below.",source:"@site/docs/reactnative/overview.md",sourceDirName:"reactnative",slug:"/reactnative/overview",permalink:"/reactnative/overview",draft:!1,tags:[],version:"current",frontMatter:{id:"overview",title:"React Native SDK",sidebar_label:"Overview"},sidebar:"ReactNativeSDK",next:{title:"API",permalink:"/reactnative/api"}},d={},u=[{value:"Overview",id:"overview",level:2},{value:"Installation",id:"installation",level:2},{value:"How can I create a React Native app that uses the Datalogic module?",id:"how-can-i-create-a-react-native-app-that-uses-the-datalogic-module",level:2},{value:"Prepare your development environment for React Native",id:"prepare-your-development-environment-for-react-native",level:3},{value:"Add datalogic module",id:"add-datalogic-module",level:3},{value:"Add barcode handling code",id:"add-barcode-handling-code",level:3},{value:"Start app on device",id:"start-app-on-device",level:3},{value:"How can I create an APK of my application?",id:"how-can-i-create-an-apk-of-my-application",level:2},{value:"Create the AAB",id:"create-the-aab",level:3},{value:"Create the APK",id:"create-the-apk",level:3}],s={toc:u},m="wrapper";function v(e){var t=e.components,a=(0,r.Z)(e,i);return(0,o.kt)(m,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Distribution",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The Datalogic React Native SDK is distributed using ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@datalogic/react-native-datalogic-module"},"npm"),".  More information can be found ",(0,o.kt)("a",{parentName:"p",href:"/reactnative/overview#installation"},"below"),".")),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"The Datalogic React Native SDK Library that exposes the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/datalogic/datalogic-android-sdk"},"Datalogic Android SDK")," as a ",(0,o.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/native-modules-android"},"React Native module"),". It lets you receive barcode data from the scanner, as well as configure various scanner and device settings. It is available as a npm package for easy consumption here: ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@datalogic/react-native-datalogic-module"},"@datalogic/react-native-datalogic-module"),"."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("p",null,"You can use the plugin with either ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"npm"),", just make sure that the method is consistent across your project."),(0,o.kt)("p",null,"You can install the plugin using ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn")," as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @datalogic/react-native-datalogic-module\n")),(0,o.kt)("p",null,"You can install the plugin from the ",(0,o.kt)("inlineCode",{parentName:"p"},"npm")," registry as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm i @datalogic/react-native-datalogic-module\n")),(0,o.kt)("h2",{id:"how-can-i-create-a-react-native-app-that-uses-the-datalogic-module"},"How can I create a React Native app that uses the Datalogic module?"),(0,o.kt)("p",null,"Here's directions to create an app using ",(0,o.kt)("inlineCode",{parentName:"p"},"React Native")," that can receive barcode data, starting from scratch, without React Native already installed."),(0,o.kt)("h3",{id:"prepare-your-development-environment-for-react-native"},"Prepare your development environment for React Native"),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/environment-setup"},"https://reactnative.dev/docs/environment-setup")," and set up your React Native environment."),(0,o.kt)("p",null,"WARNING: If you plan on using Expo, take note that the managed workflow does NOT work with the React Native Datalogic module. Use either the 'React Native CLI Quickstart', or make sure you select the bare workflow option if using Expo."),(0,o.kt)("h3",{id:"add-datalogic-module"},"Add datalogic module"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @datalogic/react-native-datalogic-module\n")),(0,o.kt)("h3",{id:"add-barcode-handling-code"},"Add barcode handling code"),(0,o.kt)("p",null,"Open ",(0,o.kt)("inlineCode",{parentName:"p"},"App.js"),". Add this line after your last ",(0,o.kt)("inlineCode",{parentName:"p"},"import"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { BarcodeManager } from '@datalogic/react-native-datalogic-module';\nimport { Alert, NativeEventEmitter } from 'react-native';\n")),(0,o.kt)("p",null,"Next, add the following ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect()")," method before your return:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"React.useEffect(() => {\n  try {\n    const eventEmitter = new NativeEventEmitter(BarcodeManager);\n    eventEmitter.addListener('successCallback', map => {\n      Alert.alert('Barcode Result', map.barcodeData + '\\n' + map.barcodeType);\n    });\n    BarcodeManager.addReadListener();\n  } catch (e) {\n    console.error(e);\n  }\n}, []);\n")),(0,o.kt)("p",null,"Try scanning a barcode! A popup should show the barcode data and type. Start customizing your app to your liking. \ud83c\udf89"),(0,o.kt)("h3",{id:"start-app-on-device"},"Start app on device"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn react-native run-android\n")),(0,o.kt)("h2",{id:"how-can-i-create-an-apk-of-my-application"},"How can I create an APK of my application?"),(0,o.kt)("p",null,"When you've finished your app, heres how to create the AAB (Android App Bundle) and APK files."),(0,o.kt)("h3",{id:"create-the-aab"},"Create the AAB"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd android\n./gradlew bundleRelease\n")),(0,o.kt)("p",null,"This will create the app-release.aab file which is now ready to be uploaded to Google Play.\nIf you want to access the APK to use on other platforms, you will need to follow a few more steps to extract it from the AAB file."),(0,o.kt)("h3",{id:"create-the-apk"},"Create the APK"),(0,o.kt)("p",null,"Download ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/google/bundletool"},"Google bundletool")," and run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"java -jar bundletool.jar build-apks --bundle=/MyApp/my_app.aab --output=/MyApp/my_app.apks --mode=universal\n")),(0,o.kt)("p",null,"Change the file name from ",(0,o.kt)("inlineCode",{parentName:"p"},".apks")," to ",(0,o.kt)("inlineCode",{parentName:"p"},".zip"),". Inside, the ",(0,o.kt)("inlineCode",{parentName:"p"},"universal.apk")," file is your app."))}v.isMDXComponent=!0}}]);