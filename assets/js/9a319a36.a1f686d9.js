"use strict";(self.webpackChunkdatalogic_github_io=self.webpackChunkdatalogic_github_io||[]).push([[20911],{93599:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=n(85893),i=n(11151);const r={id:"disable-usb-data-transfer",title:"Disable USB Data Transfer",sidebar_label:"Disable USB Data Transfer"},s=void 0,l={id:"integritykit/disable-usb-data-transfer",title:"Disable USB Data Transfer",description:"Datalogic Integrity Kit provides a mechanism to partially or completely disable the USB data transfer, which can prevent attackers from using the USB interface to gain unauthorized access to the device's data or functionality. One scenario where USB data transfer could be exploited is through the use of malicious USB devices. An attacker could create a malicious USB device that, when plugged into the device, could execute commands to steal data, modify firmware or software, or install malware. With Datalogic Disable USB Data Transfer mitigation strategy, the risk of such an attack is greatly reduced.",source:"@site/docs/integritykit/disable-usb-data-transfer.md",sourceDirName:"integritykit",slug:"/integritykit/disable-usb-data-transfer",permalink:"/integritykit/disable-usb-data-transfer",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"disable-usb-data-transfer",title:"Disable USB Data Transfer",sidebar_label:"Disable USB Data Transfer"},sidebar:"IntegrityKit",previous:{title:"Secure Boot Protection",permalink:"/integritykit/secure-boot-protection"},next:{title:"USB Host Whitelisting",permalink:"/integritykit/usb-host-whitelisting"}},o={},c=[{value:"Configuration Manager",id:"configuration-manager",level:2},{value:"Android Intent",id:"android-intent",level:2},{value:"Shell Intent",id:"shell-intent",level:2},{value:"Enable the Whole USB Data",id:"enable-the-whole-usb-data",level:3},{value:"Enable the USB Data by Host Side",id:"enable-the-usb-data-by-host-side",level:3},{value:"Enable the USB Data by Client",id:"enable-the-usb-data-by-client",level:3}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Datalogic Integrity Kit provides a mechanism to partially or completely disable the USB data transfer, which can prevent attackers from using the USB interface to gain unauthorized access to the device's data or functionality. One scenario where USB data transfer could be exploited is through the use of malicious USB devices. An attacker could create a malicious USB device that, when plugged into the device, could execute commands to steal data, modify firmware or software, or install malware. With ",(0,a.jsx)(t.strong,{children:"Datalogic Disable USB Data Transfer"})," mitigation strategy, the risk of such an attack is greatly reduced."]}),"\n",(0,a.jsxs)(t.p,{children:["USB can be disabled on the host side, the client side, or both at the same time. Disabling it on the host side will cause peripherals connected to the device to not work, except for any ",(0,a.jsx)(t.a,{href:"usb-host-whitelisting",children:"whitelisted"})," inclusions. Disabling it on the client side (when it is functioning as a peripheral) will cause the device to not be seen by the device to which it is connected.\nAlso, for some devices, it is possible to disable the connection while keeping the load active when acting as a host.\nSometimes it is necessary to disconnect the cable or the peripheral for the changes to take effect.\nThe levels of disabling are summarized in the table below."]}),"\n",(0,a.jsx)(t.h2,{id:"configuration-manager",children:"Configuration Manager"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"import com.datalogic.device.configuration.ConfigurationManager;\nimport com.datalogic.device.configuration.Property;\nimport com.datalogic.device.configuration.PropertyID;\nimport com.datalogic.device.configuration.BooleanProperty;\n\n\nConfigurationManager cm = new ConfigurationManager(context);\nProperty<Boolean> property;\n\n// Enable or disable the whole USB data\nproperty = (BooleanProperty)cm.getPropertyById(PropertyID.USB_DATA);\nproperty.set(enable);\n\n// Enable or disable USB data by host side\nproperty = (BooleanProperty)cm.getPropertyById(PropertyID.USB_HOST_DATA);\nproperty.set(enable);\n\n// Enable or disable USB data by client side\nproperty = (BooleanProperty)cm.getPropertyById(PropertyID.USB_CLIENT_DATA);\nproperty.set(enable);\n\n\ncm.commit(); \n"})}),"\n",(0,a.jsx)(t.h2,{id:"android-intent",children:"Android Intent"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'import com.datalogic.device.configuration.PropertyID;\n\nIntent intent = new Intent(Intents.ACTION_CONFIGURATION_COMMIT);\nHashMap<Integer, String> map = new HashMap<>();\n\n// Enable or disable the whole USB data\nmap.put(PropertyID.USB_DATA, enable ? "1" : "0");\n\n// Enable or disable USB data by host side\nmap.put(PropertyID.USB_HOST_DATA, enable ? "1" : "0");\n\n// Enable or disable USB data by client side\nmap.put(PropertyID.USB_CLIENT_DATA, enable ? "1" : "0");\n\nintent.putExtra(Intents.EXTRA_CONFIGURATION_CHANGED_MAP, map);\ncontext.sendBroadcast(intent); \n'})}),"\n",(0,a.jsx)(t.p,{children:"To disable USB data transfer through the Datalogic SDK on JT22 use the following code snippet:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"import com.datalogic.device.configuration.ConfigurationManager; \nimport com.datalogic.device.configuration.PropertyID;\n\nConfigurationManager cm = new ConfigurationManager(aContext); \n\ncm.getPropertyById(PropertyID.USB_DATA).set(true); //or .set(false); \ncm.commit(); \n"})}),"\n",(0,a.jsx)(t.h2,{id:"shell-intent",children:"Shell Intent"}),"\n",(0,a.jsx)(t.h3,{id:"enable-the-whole-usb-data",children:"Enable the Whole USB Data"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"adb shell am broadcast  -a com.datalogic.device.intent.action.configuration.COMMIT  \n--es com.datalogic.device.intent.extra.configuration.CHANGED_MAP 'USB_DATA=1'\n"})}),"\n",(0,a.jsx)(t.h3,{id:"enable-the-usb-data-by-host-side",children:"Enable the USB Data by Host Side"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"adb shell am broadcast  -a com.datalogic.device.intent.action.configuration.COMMIT  \n--es com.datalogic.device.intent.extra.configuration.CHANGED_MAP 'USB_HOST_DATA=1'\n"})}),"\n",(0,a.jsx)(t.h3,{id:"enable-the-usb-data-by-client",children:"Enable the USB Data by Client"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"adb shell am broadcast  -a com.datalogic.device.intent.action.configuration.COMMIT  \n--es com.datalogic.device.intent.extra.configuration.CHANGED_MAP 'USB_CLIENT_DATA=0'\n"})}),"\n",(0,a.jsx)(t.p,{children:"To disable USB data transfer through the Datalogic SDK on Memor 10 and Memor 11 using the following intent:"}),"\n",(0,a.jsx)(t.p,{children:"Intent action:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"com.datalogic.extension.selfshopping.configuration.USB_ENABLE\n\nIntent extra: value, type int\n\n0: disable all (USB data/chare)\n1: enable all (USB data/chare)\n2: enable USB data only\n3: enable USB charge only\n"})}),"\n",(0,a.jsx)(t.p,{children:"Sample code:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'int usbEnabled = 1;\n\nIntent intent = new Intent();\n\nintent.setAction("com.datalogic.extension.selfshopping.configuration.USB_ENABLE");\nintent.putExtra("value", usbEnabled);\n\nsendBroadcast(intent);\n'})}),"\n",(0,a.jsx)(t.p,{children:"The following table shows which devices support this feature:"}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:(0,a.jsx)(t.strong,{children:"DEVICE"})}),(0,a.jsx)(t.th,{style:{textAlign:"center"},children:(0,a.jsx)(t.strong,{children:"USB_DATA"})}),(0,a.jsx)(t.th,{style:{textAlign:"center"},children:(0,a.jsx)(t.strong,{children:"USB_CLIENT_DATA"})}),(0,a.jsx)(t.th,{style:{textAlign:"center"},children:(0,a.jsx)(t.strong,{children:"USB_HOST_DATA"})})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Memor 30/35"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Memor 11"}),(0,a.jsxs)(t.td,{style:{textAlign:"center"},children:["\u2714\ufe0f","**"]}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Memor 10"}),(0,a.jsxs)(t.td,{style:{textAlign:"center"},children:["\u2714\ufe0f","**"]}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Joya Touch 22"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Joya Touch A6"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Memor 20"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Skorpio X5"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Memor K"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"}),(0,a.jsx)(t.td,{style:{textAlign:"center"},children:"\u274c"})]})]})]}),"\n",(0,a.jsx)("b",{children:"** Requires specific configuration"})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>l,a:()=>s});var a=n(67294);const i={},r=a.createContext(i);function s(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);